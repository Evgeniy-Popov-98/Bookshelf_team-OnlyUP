{"version":3,"file":"storage-a5e3f761.js","sources":["../../src/js/switch-button.js","../../src/js/API/storage.js"],"sourcesContent":["const switchBox = document.querySelector('.switch-box');\nconst switchButton = document.querySelector('.switch-button');\nconst topicMain = document.querySelector('body');\n\nswitchButton.addEventListener('click', () => {\n  console.log(switchButton.dataset.switch);\n  if (switchButton.dataset.switch === 'true') {\n    switchButton.classList.remove('new-position');\n    switchBox.classList.remove('new-background');\n    switchButton.dataset.switch = 'false';\n  } else {\n    switchButton.classList.add('new-position');\n    switchBox.classList.add('new-background');\n    switchButton.dataset.switch = 'true';\n  }\n  if (topicMain.classList.value === 'dark') {\n    topicMain.classList.remove('dark');\n    topicMain.classList.add('light');\n  } else {\n    topicMain.classList.remove('light');\n    topicMain.classList.add('dark');\n  }\n});\n","import { getBooks } from './api-books';\nimport {\n  addItemLocalStorage,\n  infoItemLocalStorage,\n  TASKS_KEY,\n} from '../localStorage';\nimport '../switch-button';\nimport img9606 from '/images/IMG_9606.png';\nimport amazonSvg from '/images/amazon.svg';\nimport bookSvg from '/images/book.svg';\nimport trashSvg from '/images/trash.svg';\n// import tuiPagination from 'tui-pagination'; // Імпортуємо бібліотеку пагінації\n\nconst shoppingListContainer = document.querySelector('.shoppinglist-container');\nconst emptyMessage = `\n    <div class=\"shoppinglist-blocks\">\n        <h2 class=\"text\">This page is empty, add some books and proceed to order.</h2>\n        <img src=\"${img9606}\" alt=\"Shopping Image\" class=\"shoppinglist-img96061\">\n    </div>\n`;\n\nexport async function addToShoppingList(event) {\n  event.defaultPrevented();\n  console.log(1);\n  try {\n    const booksIds = infoItemLocalStorage(TASKS_KEY);\n    console.log(booksIds);\n\n    if (!booksIds || !booksIds.length) {\n      shoppingListContainer.innerHTML = emptyMessage;\n      return;\n    }\n\n    let markup = '';\n\n    for (const bookId of booksIds) {\n      const dataBook = await getBooks(bookId);\n      markup += createBookMarkup(dataBook, bookId);\n    }\n\n    shoppingListContainer.innerHTML = markup;\n\n    // Оновлення пагінації після додавання книг\n    updatePagination();\n  } catch (error) {\n    console.error('Error fetching book data:', error);\n  }\n}\n\nfunction createBookMarkup(book, bookId) {\n  return `\n    <div class=\"container-block\" data-book-id=\"${bookId}\">\n        <div class=\"btn-and-links\">\n            <button class=\"trash-btn\"><img src=\"${trashSvg}\" alt=\"\"></button>\n            <ul class=\"links\">\n                <li><img src=\"${amazonSvg}\" class=\"amazon\"></li>\n                <li><img src=\"${bookSvg}\"></li>\n            </ul>\n        </div>\n        <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-image\">\n        <div class=\"text-area\">\n            <h2 class=\"shopping-list-title\">${book.title}</h2>\n            <h2 class=\"shopping-list-title-name\">${book.list_name}</h2>\n            <p class=\"shopping-list-description\">${book.description}</p>\n            <h2 class=\"shopping-list-author\">${book.author}</h2>\n        </div>\n    </div>\n  `;\n}\n\nfunction updatePagination() {\n  // Отримуємо кількість сторінок на основі кількості книг\n  const booksIds = infoItemLocalStorage(TASKS_KEY);\n  const totalPages = Math.ceil(booksIds.length / 4); // По 4 книги на сторінку\n\n  // Ініціалізуємо або оновлюємо пагінацію\n  const pagination = new tuiPagination('pagination', {\n    totalItems: totalPages,\n    itemsPerPage: 1,\n    visiblePages: 5,\n  });\n}\n\n// shoppingListContainer.addEventListener('click', function (event) {\n//   const target = event.target;\n//   if (event.target.nodeName !== 'BUTTON' || event.target.nodeName !== 'IMG') {\n//     const bookContainer = target.closest('.container-block');\n//     const bookId = bookContainer.getAttribute('data-book-id');\n\n//     const booksIds = infoItemLocalStorage(TASKS_KEY) || [];\n//     const index = booksIds.indexOf(bookId);\n//     if (index !== -1) {\n//       booksIds.splice(index, 1);\n//       addItemLocalStorage(TASKS_KEY, booksIds);\n//     }\n\n//     bookContainer.remove();\n\n//     if (!shoppingListContainer.querySelector('.container-block')) {\n//       shoppingListContainer.innerHTML = emptyMessage;\n//     }\n\n//     // Оновлення пагінації після видалення книги\n//     updatePagination();\n//   }\n// });\n"],"names":["switchBox","switchButton","topicMain"],"mappings":"ssBAAA,MAAMA,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAY,SAAS,cAAc,MAAM,EAE/CD,EAAa,iBAAiB,QAAS,IAAM,CAC3C,QAAQ,IAAIA,EAAa,QAAQ,MAAM,EACnCA,EAAa,QAAQ,SAAW,QAClCA,EAAa,UAAU,OAAO,cAAc,EAC5CD,EAAU,UAAU,OAAO,gBAAgB,EAC3CC,EAAa,QAAQ,OAAS,UAE9BA,EAAa,UAAU,IAAI,cAAc,EACzCD,EAAU,UAAU,IAAI,gBAAgB,EACxCC,EAAa,QAAQ,OAAS,QAE5BC,EAAU,UAAU,QAAU,QAChCA,EAAU,UAAU,OAAO,MAAM,EACjCA,EAAU,UAAU,IAAI,OAAO,IAE/BA,EAAU,UAAU,OAAO,OAAO,EAClCA,EAAU,UAAU,IAAI,MAAM,EAElC,CAAC,ECT6B,SAAS,cAAc,yBAAyB"}