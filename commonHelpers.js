import{i as Q,a as q,r as O,g as f,T as L}from"./assets/switch-button-43392486.js";import{i as G}from"./assets/vendor-f87d3a68.js";const U="data:image/png;base64,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",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAABHNCSVQICAgIfAhkiAAABPxJREFUWMPFmM+PJVUVxz/fW6/ee/PG7plMdwYaGEjIMCY4GROQEIOs1AUQw4qwMRonstQFKwyiMxoXshiMrmAx/wDuxjgm4MIokgALosOKCSFOC4npngBtN1WvXt2vi6r3ql53vx8TTaykUrdenXvv937P95xz7xMLLoMwcBFxq9dPMQKB55nNHdhG139D9/RxOhSEWwaREvmEET9gKM0GokNX/Sp9PuvdieN6qXhKDuskpAgREQET676HtQPGmJIiKG7hcAOFLVbzf/IU2X52pkFcIHCKo5B8DfQM8IjRaj286x6q8E76Hmy3bAXReAfzhqJfISn/wg12dYE4nrczxcsGfcruNyw/B3wZSNE+N3jfc55zXZtZXeAxS3fEIvllsjH8A7B3OAilZwznsc4hdTGaKynvm3i2bUB0sc8lgfMF6QdQvNt8bImwLPUlRz2ElbpEjjD39oLv7btEWKmtr4Sos3YDvzMGwEv03eOUpDVDMqHXcyTtQ55zbOtx1xL5Ll6ib5NJuHLHRcQ6g+DkBK7ZEaAUkhSOnET3fguOnYYyxx+/CR/9GbLtig4EvTW441G08VVIevDpdfzBFcj+BWUBLsYgQ1Syths5unKRHMYgAHQ0xbHXCE+QdNGDz6N7n4DBSej0KtrOPA1b14ivnYfPt+DIOuGbl2H9LKRfAAlGObr/+/jDq/itn0McNVSZXpIM0rE2G+UPLY8IREEUWOjMt9HZ78HqPdBdqVaY9KF/AjYeJjzxWzhyO+HxV2Hj4er3pF/ZdVdg9R50/3fRF79TLaoe25YGLW91DjjPajR7/D5Ij4KSanWTMEygM4DbHoD0ONz+4MH4lCCkkAY4dh84VAoF5GnxTIMoQ2ssYWtBwRBkXpT9KyeUmthVBSXOABHHRKhGvER9iEvUNYOjmjDRNO59IEIzs5Yrml4ItHaxx5TU793DmNirZTrx/aIC3LC3DBNjsU/e99rpdHINKvFEVYy0O/3X7lAzrlVPO5iticYN/0MmJmDduGaWJmIUQU0SlJcT3XLCrBjROL0nzIuOGmloMeE4rsk1utqTUq36sUL32bXredSECNkzQOxSJRa3ImU8uEeQ7eBiD5Sg/ip0B6BOC2gJwz2cfVaVzM4A+isQktoFobUYVfN1Z2liElmG7N/4479TXv0JbF+vY1xAQvj6jwhnn4RhDtkO8b0rxNd/AZSNP0+cJnn8Z5DtQPRM1zUgurJKx3YYxT/9Cv74Yp1jWvnDJl59oZpomFUAfv88DHcn36uwf5vy5ceqwhebJBix81Z8NCDyrEC9fEq2w3y2EouC+LsXYFgQr/wYYlFP5IO2w2wqHGzycpgXY3dUjr+AyY7tUeomUdGxqXgz76KAfBecV8+iWNinHjeGqO2VeGyXCxXKMMkIlzazaN2w2SZSLr1ti1p6i1ePezOW2uTSZjaOv9CqvJa45lLv4FAQ5fbeYuo+7PdFtlHGoXDU25KvtQ9DU9GRHum8P9wZXcY6CToHpPWZY/lE5Zl5tcD8LSFc3oL3Z+8n+CjrJuuv5aOQJfgZOzwiseKKMR+yxWVG262tTbTZseJfE+nlT4f5G7et3fx88THw2bv6kN9ZKKzbultiDUIabWFUn7E03vscaAsHyRALm23J/4ijuN1Leptc2px/DDzsQMwPT3fp7XQI5a0fiGMSyVdG/Pr68gfi/9dfA/8BAEC8eKTcLsIAAAAASUVORK5CYII=",S=document.querySelector("body"),a=document.querySelector(".modal"),p=document.querySelector(".backdrop"),j=document.querySelector(".modal-close-btn"),c=document.querySelector(".modal-list-btn-add"),d=document.querySelector(".modal-list-btn-remove"),A=document.querySelector(".modal-list-container");let b;async function C(e){d.setAttribute("id",`${e}`),b=e,document.addEventListener("keydown",M);const n=await f(b);N(n);try{A.innerText="";const s=Q(L);for(const i of s)i.constID===e&&(c.style.display="none",d.style.display="flex",A.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px")}catch{}c.addEventListener("click",x),d.addEventListener("click",k)}function N(e){var l,m;p.style.display="flex",S.style.overflow="hidden";const n=((l=e.buy_links.find(r=>r.name==="Amazon"))==null?void 0:l.url)||"",s=((m=e.buy_links.find(r=>r.name==="Apple Books"))==null?void 0:m.url)||"",i=e.description?e.description:"With our diverse range of titles, you're sure to find the perfect companion for cozy nights in. Treat yourself to the joy of reading and explore the endless possibilities that await within the pages of our books.",g=`
  <ul class="buy-links-list">
    <li>
      <img class="img-amazon platform-image" src="${U}" alt="Amazon" data-url="${n}">
    </li>
    <li>
      <img class="img-apple platform-image" src="${Y}" alt="Apple Books" data-url="${s}">
    </li>
  </ul>
`;a.innerHTML=`
  <div class="modal-container">
  <img src="${e.book_image}" class="modal-image">
    <div class="modal-wrap">
      <h2 class="modal-title">${e.title}</h2>
      <p class="modal-author">${e.author}</p>
      <p class="description-modal">${i}</p>
      ${g}
    </div>  
  </div>
`,a.appendChild(j),a.appendChild(c),a.appendChild(d),a.appendChild(A),a.querySelectorAll(".platform-image").forEach(r=>{r.addEventListener("click",()=>{const u=r.dataset.url;u?window.open(u,"_blank"):console.error("Platform URL not found.")})})}document.addEventListener("DOMContentLoaded",function(){j.addEventListener("click",function(){E()}),p.addEventListener("click",function(e){e.target===p&&E()})});c.addEventListener("click",function(){A.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px",c.removeEventListener("click",this)});d.addEventListener("click",function(){A.innerText="",window.innerWidth<=767?a.style.height="762px":a.style.height="465px",d.removeEventListener("click",this)});function M(e){e.key==="Escape"&&(E(),document.removeEventListener("keydown",M))}function E(){a.classList.add("closing"),setTimeout(function(){p.style.display="none",a.classList.remove("closing")},500),c.removeEventListener("click",x),c.removeEventListener("click",k),S.style.overflow="auto",c.style.display="flex",d.style.display="none"}function x(){const e=Q(L)||[];e.push({constID:b}),q(L,e),c.style.display="none",d.style.display="flex",c.removeEventListener("click",x),d.addEventListener("click",k)}function k(e){O(e),c.style.display="flex",d.style.display="none",c.removeEventListener("click",k),c.addEventListener("click",x)}const z="category";async function T(e){const n=document.querySelector(".js-booksgallery");n.innerHTML="";try{const i=await f(z,e);K(i),F(e)}catch(i){console.error("Failed to fetch books:",i)}document.querySelectorAll(".cat-book-image-overlay").forEach(i=>{i.addEventListener("click",g=>{const l=g.target.closest(".booksgallery-item");if(l){const m=l.dataset.id;C(m)}})})}function K(e){const n=document.querySelector(".booksgallery"),s=e.map(i=>`
      <li class="booksgallery-item cardCategory book-hover" data-id="${i._id}">
	  <div class="wrapper-overlay">
          <img class="gallery-image" src="${i.book_image}" alt="${i.description}">          
			<div class="cat-book-image-overlay">
				<p class="book-image-overlay-text quick-view-trigger">Quick view</p>
			</div>
		</div>
		<h3 class="name-book">${i.title}</h3>
          <p class="author-book">${i.author}</p>
      </li>`).join("");n.insertAdjacentHTML("beforeend",s)}function F(e){const n=document.querySelector(".selected-title"),s=e.split(" "),i=s[s.length-1];s.pop(),n.innerHTML=`${s.join(" ")} <span class="selected-color">${i} </span>`}const y={galleryBooks:document.querySelector(".js-gallery-books"),btnMore:document.querySelector(".btn-more"),listCategoryTitle:document.querySelector(".list-category-title"),allListCategories:document.querySelector(".js-books-categories"),categoryItems:document.querySelectorAll(".category-books-item"),scrollTop:document.getElementById("scrollTop")};document.addEventListener("DOMContentLoaded",()=>{async function e(){const n=await f("category-list");let s='<li data-category="top-books" class="category-books-item">All categories</li>';n.forEach(l=>{s+=`<li class="category-books-item" data-category="${l.list_name}">${l.list_name}</li>`}),y.allListCategories.insertAdjacentHTML("beforeend",s),document.querySelectorAll(".category-books-item").forEach(l=>{l.addEventListener("click",g)});function g(l){l.preventDefault();const m=document.querySelector(".js-home-pg"),r=document.querySelector(".js-selected-page"),u=l.target.innerHTML;for(const D of n)D.list_name===u&&(m.style.display="none",r.style.display="block",T(u));u==="All categories"&&(m.style.display="block",r.style.display="none")}}e()});function w(e){G.error({title:"Error",message:e})}const V=document.querySelector(".loader");document.addEventListener("DOMContentLoaded",async()=>{let e=window.innerWidth;V.style.display="none";const n=await f("top-books");window.addEventListener("resize",s);async function s(){const t=window.innerWidth;if(e>768||e<768&&t>=768||e>=768&&t<=1440&&(e<=768||t>=1439))try{i(n)}catch(o){w(`Failed to render books:${o}`)}e=t}async function i(t){try{y.galleryBooks.innerHTML="";for(const o of t)l(o),o.books.length>=1?u(o):w("Sorry, there are no items in this category");g()}catch(o){w(`Failed to render books:${o}`)}}function g(){document.querySelectorAll(".book-image-overlay").forEach(o=>{o.addEventListener("click",H=>{const h=H.target.closest(".card");if(h){const v=h.dataset.id;C(v)}})})}function l(t){const o=`<li id="${t.list_name}" class="list-category-books">
    <h2 class="list-category-title">${t.list_name}</h2>
    <ul class="list-book">
     </ul>
    <button type="button" class="btn-more" data-id="${t.list_name}">See more</button>`;y.galleryBooks.insertAdjacentHTML("beforeend",o)}function m(t){const{book_image:o,author:H,title:h,_id:v,contributor:B,list_name:R}=t;if(R)return`
    <li class="card book-item book-hover" data-id="${v}">
       <div class="wrapper-overlay">
        <img class="book-img-home" src="${o}" alt="${B} ${h}">
        <div class="book-image-overlay" aria-label="${h}">
            <p class="book-image-overlay-text quick-view-trigger">Quick view</p>
        </div>
       </div>
    <h3 class="title-book">${h}</h3>
    <p class="author">${H}</p>
    </li>
    `}function r(t){return t.map(m).join("")}function u(t){const o=D(t),H=t.list_name;document.getElementById(H).querySelector(".list-book").insertAdjacentHTML("afterbegin",o)}function D(t){let o;return window.innerWidth>=768&&window.innerWidth<=1439?o=r(t.books.slice(0,3)):window.innerWidth>=1440?o=r(t.books):o=r(t.books.slice(0,1)),o}i(n),document.querySelectorAll(".btn-more").forEach(t=>{t.addEventListener("click",I)});function I(t){const o=document.querySelector(".js-home-pg"),H=document.querySelector(".js-selected-page"),h=t.srcElement.dataset.id;o.style.display="none",H.style.display="block",T(h)}});window.onscroll=()=>{window.scrollY>400?y.scrollTop.classList.remove("isShowScroll_hide"):window.scrollY<400&&y.scrollTop.classList.add("isShowScroll_hide")};y.scrollTop.addEventListener("click",()=>window.scrollTo(0,0));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".js-hhome a"),n=document.querySelector(".hshopping-link");window.location.pathname==="/index.html"||window.location.pathname==="/"?(e.classList.add("active"),n.classList.remove("active")):(n.classList.add("active"),e.classList.remove("active"))});
//# sourceMappingURL=commonHelpers.js.map
