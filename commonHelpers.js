import{i as j,a as Y,r as N,g as k,T as w}from"./assets/switch-button-5d4f229b.js";import{i as z}from"./assets/vendor-f87d3a68.js";document.querySelector(".hmob-burger-menu");const S=document.querySelector(".hburger-menu-icon"),A=document.querySelector(".hclose-menu-icon"),C=document.querySelector(".js-hmob-modal"),M=document.querySelector(".light");S.addEventListener("click",K);function K(e){e.preventDefault(),S.classList.toggle("is-visible"),A.classList.toggle("is-visible"),C.classList.toggle("is-visible"),M.style.overflow="hidden",A.style.display="flex"}A.addEventListener("click",()=>{S.classList.toggle("is-visible"),A.classList.toggle("is-visible"),C.classList.toggle("is-visible"),M.style.overflow="visible",A.style.display="none"});const F="data:image/png;base64,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",V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAABHNCSVQICAgIfAhkiAAABPxJREFUWMPFmM+PJVUVxz/fW6/ee/PG7plMdwYaGEjIMCY4GROQEIOs1AUQw4qwMRonstQFKwyiMxoXshiMrmAx/wDuxjgm4MIokgALosOKCSFOC4npngBtN1WvXt2vi6r3ql53vx8TTaykUrdenXvv937P95xz7xMLLoMwcBFxq9dPMQKB55nNHdhG139D9/RxOhSEWwaREvmEET9gKM0GokNX/Sp9PuvdieN6qXhKDuskpAgREQET676HtQPGmJIiKG7hcAOFLVbzf/IU2X52pkFcIHCKo5B8DfQM8IjRaj286x6q8E76Hmy3bAXReAfzhqJfISn/wg12dYE4nrczxcsGfcruNyw/B3wZSNE+N3jfc55zXZtZXeAxS3fEIvllsjH8A7B3OAilZwznsc4hdTGaKynvm3i2bUB0sc8lgfMF6QdQvNt8bImwLPUlRz2ElbpEjjD39oLv7btEWKmtr4Sos3YDvzMGwEv03eOUpDVDMqHXcyTtQ55zbOtx1xL5Ll6ib5NJuHLHRcQ6g+DkBK7ZEaAUkhSOnET3fguOnYYyxx+/CR/9GbLtig4EvTW441G08VVIevDpdfzBFcj+BWUBLsYgQ1Syths5unKRHMYgAHQ0xbHXCE+QdNGDz6N7n4DBSej0KtrOPA1b14ivnYfPt+DIOuGbl2H9LKRfAAlGObr/+/jDq/itn0McNVSZXpIM0rE2G+UPLY8IREEUWOjMt9HZ78HqPdBdqVaY9KF/AjYeJjzxWzhyO+HxV2Hj4er3pF/ZdVdg9R50/3fRF79TLaoe25YGLW91DjjPajR7/D5Ij4KSanWTMEygM4DbHoD0ONz+4MH4lCCkkAY4dh84VAoF5GnxTIMoQ2ssYWtBwRBkXpT9KyeUmthVBSXOABHHRKhGvER9iEvUNYOjmjDRNO59IEIzs5Yrml4ItHaxx5TU793DmNirZTrx/aIC3LC3DBNjsU/e99rpdHINKvFEVYy0O/3X7lAzrlVPO5iticYN/0MmJmDduGaWJmIUQU0SlJcT3XLCrBjROL0nzIuOGmloMeE4rsk1utqTUq36sUL32bXredSECNkzQOxSJRa3ImU8uEeQ7eBiD5Sg/ip0B6BOC2gJwz2cfVaVzM4A+isQktoFobUYVfN1Z2liElmG7N/4479TXv0JbF+vY1xAQvj6jwhnn4RhDtkO8b0rxNd/AZSNP0+cJnn8Z5DtQPRM1zUgurJKx3YYxT/9Cv74Yp1jWvnDJl59oZpomFUAfv88DHcn36uwf5vy5ceqwhebJBix81Z8NCDyrEC9fEq2w3y2EouC+LsXYFgQr/wYYlFP5IO2w2wqHGzycpgXY3dUjr+AyY7tUeomUdGxqXgz76KAfBecV8+iWNinHjeGqO2VeGyXCxXKMMkIlzazaN2w2SZSLr1ti1p6i1ePezOW2uTSZjaOv9CqvJa45lLv4FAQ5fbeYuo+7PdFtlHGoXDU25KvtQ9DU9GRHum8P9wZXcY6CToHpPWZY/lE5Zl5tcD8LSFc3oL3Z+8n+CjrJuuv5aOQJfgZOzwiseKKMR+yxWVG262tTbTZseJfE+nlT4f5G7et3fx88THw2bv6kN9ZKKzbultiDUIabWFUn7E03vscaAsHyRALm23J/4ijuN1Leptc2px/DDzsQMwPT3fp7XQI5a0fiGMSyVdG/Pr68gfi/9dfA/8BAEC8eKTcLsIAAAAASUVORK5CYII=",T=document.querySelector("body"),a=document.querySelector(".modal"),f=document.querySelector(".backdrop"),I=document.querySelector(".modal-close-btn"),r=document.querySelector(".modal-list-btn-add"),d=document.querySelector(".modal-list-btn-remove"),p=document.querySelector(".modal-list-container");let E;async function q(e){d.setAttribute("id",`${e}`),E=e,document.addEventListener("keydown",B);const s=await k(E);X(s);try{p.innerText="";const n=j(w);for(const i of n)i.constID===e&&(r.style.display="none",d.style.display="flex",p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px")}catch{}r.addEventListener("click",x),d.addEventListener("click",v)}function X(e){var l,m;f.style.display="flex",T.style.overflow="hidden";const s=((l=e.buy_links.find(c=>c.name==="Amazon"))==null?void 0:l.url)||"",n=((m=e.buy_links.find(c=>c.name==="Apple Books"))==null?void 0:m.url)||"",i=e.description?e.description:"With our diverse range of titles, you're sure to find the perfect companion for cozy nights in. Treat yourself to the joy of reading and explore the endless possibilities that await within the pages of our books.",g=`
  <ul class="buy-links-list">
    <li>
      <img class="img-amazon platform-image" src="${F}" alt="Amazon" data-url="${s}">
    </li>
    <li>
      <img class="img-apple platform-image" src="${V}" alt="Apple Books" data-url="${n}">
    </li>
  </ul>
`;a.innerHTML=`
  <div class="modal-container">
  <img src="${e.book_image}" class="modal-image">
    <div class="modal-wrap">
      <h2 class="modal-title">${e.title}</h2>
      <p class="modal-author">${e.author}</p>
      <p class="description-modal">${i}</p>
      ${g}
    </div>  
  </div>
`,a.appendChild(I),a.appendChild(r),a.appendChild(d),a.appendChild(p),a.querySelectorAll(".platform-image").forEach(c=>{c.addEventListener("click",()=>{const u=c.dataset.url;u?window.open(u,"_blank"):console.error("Platform URL not found.")})})}document.addEventListener("DOMContentLoaded",function(){I.addEventListener("click",function(){Q()}),f.addEventListener("click",function(e){e.target===f&&Q()})});r.addEventListener("click",function(){p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px",r.removeEventListener("click",this)});d.addEventListener("click",function(){p.innerText="",window.innerWidth<=767?a.style.height="762px":a.style.height="465px",d.removeEventListener("click",this)});function B(e){e.key==="Escape"&&(Q(),document.removeEventListener("keydown",B))}function Q(){a.classList.add("closing"),setTimeout(function(){f.style.display="none",a.classList.remove("closing")},500),r.removeEventListener("click",x),r.removeEventListener("click",v),T.style.overflow="auto",r.style.display="flex",d.style.display="none"}function x(){const e=j(w)||[];e.push({constID:E}),Y(w,e),r.style.display="none",d.style.display="flex",r.removeEventListener("click",x),d.addEventListener("click",v)}function v(e){N(e),r.style.display="flex",d.style.display="none",r.removeEventListener("click",v),r.addEventListener("click",x)}const W="category";async function R(e){const s=document.querySelector(".js-booksgallery");s.innerHTML="";try{const i=await k(W,e);J(i),P(e)}catch(i){console.error("Failed to fetch books:",i)}document.querySelectorAll(".cat-book-image-overlay").forEach(i=>{i.addEventListener("click",g=>{const l=g.target.closest(".booksgallery-item");if(l){const m=l.dataset.id;q(m)}})})}function J(e){const s=document.querySelector(".booksgallery"),n=e.map(i=>`
      <li class="booksgallery-item cardCategory book-hover" data-id="${i._id}">
	  <div class="wrapper-overlay">
          <img class="gallery-image" src="${i.book_image}" alt="${i.description}">          
			<div class="cat-book-image-overlay">
				<p class="book-image-overlay-text quick-view-trigger">Quick view</p>
			</div>
		</div>
		<h3 class="name-book">${i.title}</h3>
          <p class="author-book">${i.author}</p>
      </li>`).join("");s.insertAdjacentHTML("beforeend",n)}function P(e){const s=document.querySelector(".selected-title"),n=e.split(" "),i=n[n.length-1];n.pop(),s.innerHTML=`${n.join(" ")} <span class="selected-color">${i} </span>`}const H={galleryBooks:document.querySelector(".js-gallery-books"),btnMore:document.querySelector(".btn-more"),listCategoryTitle:document.querySelector(".list-category-title"),allListCategories:document.querySelector(".js-books-categories"),categoryItems:document.querySelectorAll(".category-books-item"),scrollTop:document.getElementById("scrollTop")};document.addEventListener("DOMContentLoaded",()=>{async function e(){const s=await k("category-list");let n='<li data-category="top-books" class="category-books-item">All categories</li>';s.forEach(l=>{n+=`<li class="category-books-item" data-category="${l.list_name}">${l.list_name}</li>`}),H.allListCategories.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".category-books-item").forEach(l=>{l.addEventListener("click",g)});function g(l){l.preventDefault();const m=document.querySelector(".js-home-pg"),c=document.querySelector(".js-selected-page"),u=l.target.innerHTML;for(const D of s)D.list_name===u&&(m.style.display="none",c.style.display="block",R(u));u==="All categories"&&(m.style.display="block",c.style.display="none")}}e()});function L(e){z.error({title:"Error",message:e})}document.addEventListener("DOMContentLoaded",async()=>{let e=window.innerWidth;const s=await k("top-books");window.addEventListener("resize",n);async function n(){const t=window.innerWidth;if(e>768||e<768&&t>=768||e>=768&&t<=1440&&(e<=768||t>=1439))try{i(s)}catch(o){L(`Failed to render books:${o}`)}e=t}async function i(t){try{H.galleryBooks.innerHTML="";for(const o of t)l(o),o.books.length>=1?u(o):L("Sorry, there are no items in this category");g()}catch(o){L(`Failed to render books:${o}`)}}function g(){document.querySelectorAll(".book-image-overlay").forEach(o=>{o.addEventListener("click",y=>{const h=y.target.closest(".card");if(h){const b=h.dataset.id;q(b)}})})}function l(t){const o=`<li id="${t.list_name}" class="list-category-books">
    <h2 class="list-category-title">${t.list_name}</h2>
    <ul class="list-book">
     </ul>
    <button type="button" class="btn-more" data-id="${t.list_name}">See more</button>`;H.galleryBooks.insertAdjacentHTML("beforeend",o)}function m(t){const{book_image:o,author:y,title:h,_id:b,contributor:G,list_name:U}=t;if(U)return`
    <li class="card book-item book-hover" data-id="${b}">
       <div class="wrapper-overlay">
        <img class="book-img-home" src="${o}" alt="${G} ${h}">
        <div class="book-image-overlay" aria-label="${h}">
            <p class="book-image-overlay-text quick-view-trigger">Quick view</p>
        </div>
       </div>
    <h3 class="title-book">${h}</h3>
    <p class="author">${y}</p>
    </li>
    `}function c(t){return t.map(m).join("")}function u(t){const o=D(t),y=t.list_name;document.getElementById(y).querySelector(".list-book").insertAdjacentHTML("afterbegin",o)}function D(t){let o;return window.innerWidth>=768&&window.innerWidth<=1439?o=c(t.books.slice(0,3)):window.innerWidth>=1440?o=c(t.books):o=c(t.books.slice(0,1)),o}i(s),document.querySelectorAll(".btn-more").forEach(t=>{t.addEventListener("click",O)});function O(t){const o=document.querySelector(".js-home-pg"),y=document.querySelector(".js-selected-page"),h=t.srcElement.dataset.id;o.style.display="none",y.style.display="block",R(h)}});window.onscroll=()=>{window.scrollY>400?H.scrollTop.classList.remove("isShowScroll_hide"):window.scrollY<400&&H.scrollTop.classList.add("isShowScroll_hide")};H.scrollTop.addEventListener("click",()=>window.scrollTo(0,0));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".js-hhome a"),s=document.querySelector(".hshopping-link");window.location.pathname==="/index.html"||window.location.pathname==="/"?(e.classList.add("active"),s.classList.remove("active")):(s.classList.add("active"),e.classList.remove("active"))});
//# sourceMappingURL=commonHelpers.js.map
