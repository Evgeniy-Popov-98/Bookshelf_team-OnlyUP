import{i as S,a as O,r as G,g as x,T as L}from"./assets/switch-button-43392486.js";import{i as U}from"./assets/vendor-f87d3a68.js";const Y="data:image/png;base64,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",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAABHNCSVQICAgIfAhkiAAABPxJREFUWMPFmM+PJVUVxz/fW6/ee/PG7plMdwYaGEjIMCY4GROQEIOs1AUQw4qwMRonstQFKwyiMxoXshiMrmAx/wDuxjgm4MIokgALosOKCSFOC4npngBtN1WvXt2vi6r3ql53vx8TTaykUrdenXvv937P95xz7xMLLoMwcBFxq9dPMQKB55nNHdhG139D9/RxOhSEWwaREvmEET9gKM0GokNX/Sp9PuvdieN6qXhKDuskpAgREQET676HtQPGmJIiKG7hcAOFLVbzf/IU2X52pkFcIHCKo5B8DfQM8IjRaj286x6q8E76Hmy3bAXReAfzhqJfISn/wg12dYE4nrczxcsGfcruNyw/B3wZSNE+N3jfc55zXZtZXeAxS3fEIvllsjH8A7B3OAilZwznsc4hdTGaKynvm3i2bUB0sc8lgfMF6QdQvNt8bImwLPUlRz2ElbpEjjD39oLv7btEWKmtr4Sos3YDvzMGwEv03eOUpDVDMqHXcyTtQ55zbOtx1xL5Ll6ib5NJuHLHRcQ6g+DkBK7ZEaAUkhSOnET3fguOnYYyxx+/CR/9GbLtig4EvTW441G08VVIevDpdfzBFcj+BWUBLsYgQ1Syths5unKRHMYgAHQ0xbHXCE+QdNGDz6N7n4DBSej0KtrOPA1b14ivnYfPt+DIOuGbl2H9LKRfAAlGObr/+/jDq/itn0McNVSZXpIM0rE2G+UPLY8IREEUWOjMt9HZ78HqPdBdqVaY9KF/AjYeJjzxWzhyO+HxV2Hj4er3pF/ZdVdg9R50/3fRF79TLaoe25YGLW91DjjPajR7/D5Ij4KSanWTMEygM4DbHoD0ONz+4MH4lCCkkAY4dh84VAoF5GnxTIMoQ2ssYWtBwRBkXpT9KyeUmthVBSXOABHHRKhGvER9iEvUNYOjmjDRNO59IEIzs5Yrml4ItHaxx5TU793DmNirZTrx/aIC3LC3DBNjsU/e99rpdHINKvFEVYy0O/3X7lAzrlVPO5iticYN/0MmJmDduGaWJmIUQU0SlJcT3XLCrBjROL0nzIuOGmloMeE4rsk1utqTUq36sUL32bXredSECNkzQOxSJRa3ImU8uEeQ7eBiD5Sg/ip0B6BOC2gJwz2cfVaVzM4A+isQktoFobUYVfN1Z2liElmG7N/4479TXv0JbF+vY1xAQvj6jwhnn4RhDtkO8b0rxNd/AZSNP0+cJnn8Z5DtQPRM1zUgurJKx3YYxT/9Cv74Yp1jWvnDJl59oZpomFUAfv88DHcn36uwf5vy5ceqwhebJBix81Z8NCDyrEC9fEq2w3y2EouC+LsXYFgQr/wYYlFP5IO2w2wqHGzycpgXY3dUjr+AyY7tUeomUdGxqXgz76KAfBecV8+iWNinHjeGqO2VeGyXCxXKMMkIlzazaN2w2SZSLr1ti1p6i1ePezOW2uTSZjaOv9CqvJa45lLv4FAQ5fbeYuo+7PdFtlHGoXDU25KvtQ9DU9GRHum8P9wZXcY6CToHpPWZY/lE5Zl5tcD8LSFc3oL3Z+8n+CjrJuuv5aOQJfgZOzwiseKKMR+yxWVG262tTbTZseJfE+nlT4f5G7et3fx88THw2bv6kN9ZKKzbultiDUIabWFUn7E03vscaAsHyRALm23J/4ijuN1Leptc2px/DDzsQMwPT3fp7XQI5a0fiGMSyVdG/Pr68gfi/9dfA/8BAEC8eKTcLsIAAAAASUVORK5CYII=",j=document.querySelector("body"),a=document.querySelector(".modal"),f=document.querySelector(".backdrop"),C=document.querySelector(".modal-close-btn"),r=document.querySelector(".modal-list-btn-add"),h=document.querySelector(".modal-list-btn-remove"),p=document.querySelector(".modal-list-container");let b;async function M(e){h.setAttribute("id",`${e}`),b=e,document.addEventListener("keydown",T);const i=await x(b);z(i);try{p.innerText="";const n=S(L);for(const s of n)s.constID===e&&(r.style.display="none",h.style.display="flex",p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px")}catch{}r.addEventListener("click",k),h.addEventListener("click",D)}function z(e){var c,d;f.style.display="flex",j.style.overflow="hidden";const i=((c=e.buy_links.find(l=>l.name==="Amazon"))==null?void 0:c.url)||"",n=((d=e.buy_links.find(l=>l.name==="Apple Books"))==null?void 0:d.url)||"",s=e.description?e.description:"With our diverse range of titles, you're sure to find the perfect companion for cozy nights in. Treat yourself to the joy of reading and explore the endless possibilities that await within the pages of our books.",g=`
  <ul class="buy-links-list">
    <li>
      <img class="img-amazon platform-image" src="${Y}" alt="Amazon" data-url="${i}">
    </li>
    <li>
      <img class="img-apple platform-image" src="${N}" alt="Apple Books" data-url="${n}">
    </li>
  </ul>
`;a.innerHTML=`
  <div class="modal-container">
  <img src="${e.book_image}" class="modal-image">
    <div class="modal-wrap">
      <h2 class="modal-title">${e.title}</h2>
      <p class="modal-author">${e.author}</p>
      <p class="description-modal">${s}</p>
      ${g}
    </div>  
  </div>
`,a.appendChild(C),a.appendChild(r),a.appendChild(h),a.appendChild(p),a.querySelectorAll(".platform-image").forEach(l=>{l.addEventListener("click",()=>{const m=l.dataset.url;m?window.open(m,"_blank"):console.error("Platform URL not found.")})})}document.addEventListener("DOMContentLoaded",function(){C.addEventListener("click",function(){E()}),f.addEventListener("click",function(e){e.target===f&&E()})});r.addEventListener("click",function(){p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?a.style.height="806px":a.style.height="501px",r.removeEventListener("click",this)});h.addEventListener("click",function(){p.innerText="",window.innerWidth<=767?a.style.height="762px":a.style.height="465px",h.removeEventListener("click",this)});function T(e){e.key==="Escape"&&(E(),document.removeEventListener("keydown",T))}function E(){a.classList.add("closing"),setTimeout(function(){f.style.display="none",a.classList.remove("closing")},500),r.removeEventListener("click",k),r.removeEventListener("click",D),j.style.overflow="auto",r.style.display="flex",h.style.display="none"}function k(){const e=S(L)||[];e.push({constID:b}),O(L,e),r.style.display="none",h.style.display="flex",r.removeEventListener("click",k),h.addEventListener("click",D)}function D(e){G(e),r.style.display="flex",h.style.display="none",r.removeEventListener("click",D),r.addEventListener("click",k)}const K="category",Q=document.querySelector(".loader-selected");async function I(e){const i=document.querySelector(".js-home-pg"),n=document.querySelector(".js-selected-page");i.style.display="none",n.style.display="block",Q.style.display="block";const s=document.querySelector(".js-booksgallery");s.innerHTML="";const g=document.querySelector(".selected-title");g.innerHTML="";try{const d=await x(K,e);Q.style.display="none",F(d),V(e)}catch(d){console.error("Failed to fetch books:",d)}document.querySelectorAll(".cat-book-image-overlay").forEach(d=>{d.addEventListener("click",l=>{const m=l.target.closest(".booksgallery-item");if(m){const A=m.dataset.id;M(A)}})})}function F(e){const i=document.querySelector(".booksgallery"),n=e.map(s=>`
      <li class="booksgallery-item cardCategory book-hover" data-id="${s._id}">
	  <div class="wrapper-overlay">
          <img class="gallery-image" src="${s.book_image}" alt="${s.description}">          
			<div class="cat-book-image-overlay">
				<p class="book-image-overlay-text quick-view-trigger">Quick view</p>
			</div>
		</div>
		<h3 class="name-book">${s.title}</h3>
          <p class="author-book">${s.author}</p>
      </li>`).join("");i.insertAdjacentHTML("beforeend",n)}function V(e){const i=document.querySelector(".selected-title"),n=e.split(" "),s=n[n.length-1];n.pop(),i.innerHTML=`${n.join(" ")} <span class="selected-color">${s} </span>`}const H={galleryBooks:document.querySelector(".js-gallery-books"),btnMore:document.querySelector(".btn-more"),listCategoryTitle:document.querySelector(".list-category-title"),allListCategories:document.querySelector(".js-books-categories"),categoryItems:document.querySelectorAll(".category-books-item"),scrollTop:document.getElementById("scrollTop")};document.addEventListener("DOMContentLoaded",()=>{async function e(){const i=await x("category-list");let n='<li data-category="top-books" class="category-books-item">All categories</li>';i.forEach(c=>{n+=`<li class="category-books-item" data-category="${c.list_name}">${c.list_name}</li>`}),H.allListCategories.insertAdjacentHTML("beforeend",n),document.querySelectorAll(".category-books-item").forEach(c=>{c.addEventListener("click",g)});function g(c){c.preventDefault();const d=document.querySelector(".js-home-pg"),l=document.querySelector(".js-selected-page"),m=c.target.innerHTML;for(const A of i)A.list_name===m&&I(m);m==="All categories"&&(d.style.display="block",l.style.display="none")}}e()});function w(e){U.error({title:"Error",message:e})}const X=document.querySelector(".loader");document.addEventListener("DOMContentLoaded",async()=>{let e=window.innerWidth;X.style.display="none";const i=await x("top-books");window.addEventListener("resize",n);async function n(){const t=window.innerWidth;if(e>768||e<768&&t>=768||e>=768&&t<=1440&&(e<=768||t>=1439))try{s(i)}catch(o){w(`Failed to render books:${o}`)}e=t}async function s(t){try{H.galleryBooks.innerHTML="";for(const o of t)c(o),o.books.length>=1?m(o):w("Sorry, there are no items in this category");g()}catch(o){w(`Failed to render books:${o}`)}}function g(){document.querySelectorAll(".book-image-overlay").forEach(o=>{o.addEventListener("click",y=>{const u=y.target.closest(".card");if(u){const v=u.dataset.id;M(v)}})})}function c(t){const o=`<li id="${t.list_name}" class="list-category-books">
    <h2 class="list-category-title">${t.list_name}</h2>
    <ul class="list-book">
     </ul>
    <button type="button" class="btn-more" data-id="${t.list_name}">See more</button>`;H.galleryBooks.insertAdjacentHTML("beforeend",o)}function d(t){const{book_image:o,author:y,title:u,_id:v,contributor:B,list_name:R}=t;if(R)return`
    <li class="card book-item book-hover" data-id="${v}">
       <div class="wrapper-overlay">
        <img class="book-img-home" src="${o}" alt="${B} ${u}">
        <div class="book-image-overlay" aria-label="${u}">
            <p class="book-image-overlay-text quick-view-trigger">Quick view</p>
        </div>
       </div>
    <h3 class="title-book">${u}</h3>
    <p class="author">${y}</p>
    </li>
    `}function l(t){return t.map(d).join("")}function m(t){const o=A(t),y=t.list_name;document.getElementById(y).querySelector(".list-book").insertAdjacentHTML("afterbegin",o)}function A(t){let o;return window.innerWidth>=768&&window.innerWidth<=1439?o=l(t.books.slice(0,3)):window.innerWidth>=1440?o=l(t.books):o=l(t.books.slice(0,1)),o}s(i),document.querySelectorAll(".btn-more").forEach(t=>{t.addEventListener("click",q)});function q(t){const o=document.querySelector(".js-home-pg"),y=document.querySelector(".js-selected-page"),u=t.srcElement.dataset.id;o.style.display="none",y.style.display="block",I(u)}});window.onscroll=()=>{window.scrollY>400?H.scrollTop.classList.remove("isShowScroll_hide"):window.scrollY<400&&H.scrollTop.classList.add("isShowScroll_hide")};H.scrollTop.addEventListener("click",()=>window.scrollTo(0,0));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".js-hhome a"),i=document.querySelector(".hshopping-link");window.location.pathname==="/index.html"||window.location.pathname==="/"?(e.classList.add("active"),i.classList.remove("active")):(i.classList.add("active"),e.classList.remove("active"))});
//# sourceMappingURL=commonHelpers.js.map
