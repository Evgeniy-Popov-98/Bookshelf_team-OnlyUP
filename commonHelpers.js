import{i as C,a as G,r as U,g as k,T as b}from"./assets/switch-button-3181180d.js";import{i as Y}from"./assets/vendor-f87d3a68.js";const N="data:image/png;base64,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",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAABHNCSVQICAgIfAhkiAAABPxJREFUWMPFmM+PJVUVxz/fW6/ee/PG7plMdwYaGEjIMCY4GROQEIOs1AUQw4qwMRonstQFKwyiMxoXshiMrmAx/wDuxjgm4MIokgALosOKCSFOC4npngBtN1WvXt2vi6r3ql53vx8TTaykUrdenXvv937P95xz7xMLLoMwcBFxq9dPMQKB55nNHdhG139D9/RxOhSEWwaREvmEET9gKM0GokNX/Sp9PuvdieN6qXhKDuskpAgREQET676HtQPGmJIiKG7hcAOFLVbzf/IU2X52pkFcIHCKo5B8DfQM8IjRaj286x6q8E76Hmy3bAXReAfzhqJfISn/wg12dYE4nrczxcsGfcruNyw/B3wZSNE+N3jfc55zXZtZXeAxS3fEIvllsjH8A7B3OAilZwznsc4hdTGaKynvm3i2bUB0sc8lgfMF6QdQvNt8bImwLPUlRz2ElbpEjjD39oLv7btEWKmtr4Sos3YDvzMGwEv03eOUpDVDMqHXcyTtQ55zbOtx1xL5Ll6ib5NJuHLHRcQ6g+DkBK7ZEaAUkhSOnET3fguOnYYyxx+/CR/9GbLtig4EvTW441G08VVIevDpdfzBFcj+BWUBLsYgQ1Syths5unKRHMYgAHQ0xbHXCE+QdNGDz6N7n4DBSej0KtrOPA1b14ivnYfPt+DIOuGbl2H9LKRfAAlGObr/+/jDq/itn0McNVSZXpIM0rE2G+UPLY8IREEUWOjMt9HZ78HqPdBdqVaY9KF/AjYeJjzxWzhyO+HxV2Hj4er3pF/ZdVdg9R50/3fRF79TLaoe25YGLW91DjjPajR7/D5Ij4KSanWTMEygM4DbHoD0ONz+4MH4lCCkkAY4dh84VAoF5GnxTIMoQ2ssYWtBwRBkXpT9KyeUmthVBSXOABHHRKhGvER9iEvUNYOjmjDRNO59IEIzs5Yrml4ItHaxx5TU793DmNirZTrx/aIC3LC3DBNjsU/e99rpdHINKvFEVYy0O/3X7lAzrlVPO5iticYN/0MmJmDduGaWJmIUQU0SlJcT3XLCrBjROL0nzIuOGmloMeE4rsk1utqTUq36sUL32bXredSECNkzQOxSJRa3ImU8uEeQ7eBiD5Sg/ip0B6BOC2gJwz2cfVaVzM4A+isQktoFobUYVfN1Z2liElmG7N/4479TXv0JbF+vY1xAQvj6jwhnn4RhDtkO8b0rxNd/AZSNP0+cJnn8Z5DtQPRM1zUgurJKx3YYxT/9Cv74Yp1jWvnDJl59oZpomFUAfv88DHcn36uwf5vy5ceqwhebJBix81Z8NCDyrEC9fEq2w3y2EouC+LsXYFgQr/wYYlFP5IO2w2wqHGzycpgXY3dUjr+AyY7tUeomUdGxqXgz76KAfBecV8+iWNinHjeGqO2VeGyXCxXKMMkIlzazaN2w2SZSLr1ti1p6i1ePezOW2uTSZjaOv9CqvJa45lLv4FAQ5fbeYuo+7PdFtlHGoXDU25KvtQ9DU9GRHum8P9wZXcY6CToHpPWZY/lE5Zl5tcD8LSFc3oL3Z+8n+CjrJuuv5aOQJfgZOzwiseKKMR+yxWVG262tTbTZseJfE+nlT4f5G7et3fx88THw2bv6kN9ZKKzbultiDUIabWFUn7E03vscaAsHyRALm23J/4ijuN1Leptc2px/DDzsQMwPT3fp7XQI5a0fiGMSyVdG/Pr68gfi/9dfA/8BAEC8eKTcLsIAAAAASUVORK5CYII=",M=document.querySelector("body"),c=document.querySelector(".modal"),x=document.querySelector(".backdrop"),T=document.querySelector(".modal-close-btn"),r=document.querySelector(".modal-list-btn-add"),h=document.querySelector(".modal-list-btn-remove"),p=document.querySelector(".modal-list-container");let E;async function Q(e){h.setAttribute("id",`${e}`),E=e,document.addEventListener("keydown",q);const s=await k(E);z(s);try{p.innerText="";const l=C(b);for(const n of l)n.constID===e&&(r.style.display="none",h.style.display="flex",p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?c.style.height="806px":c.style.height="501px")}catch{}r.addEventListener("click",D),h.addEventListener("click",v)}function z(e){var y,o;x.style.display="flex",M.style.overflow="hidden";const s=((y=e.buy_links.find(a=>a.name==="Amazon"))==null?void 0:y.url)||"",l=((o=e.buy_links.find(a=>a.name==="Apple Books"))==null?void 0:o.url)||"",n=e.description?e.description:"With our diverse range of titles, you're sure to find the perfect companion for cozy nights in. Treat yourself to the joy of reading and explore the endless possibilities that await within the pages of our books.",g=`
  <ul class="buy-links-list">
    <li>
      <img class="img-amazon platform-image" src="${N}" alt="Amazon" data-url="${s}">
    </li>
    <li>
      <img class="img-apple platform-image" src="${K}" alt="Apple Books" data-url="${l}">
    </li>
  </ul>
`;c.innerHTML=`
  <div class="modal-container">
  <img src="${e.book_image}" class="modal-image">
    <div class="modal-wrap">
      <h2 class="modal-title">${e.title}</h2>
      <p class="modal-author">${e.author}</p>
      <p class="description-modal">${n}</p>
      ${g}
    </div>  
  </div>
`,c.appendChild(T),c.appendChild(r),c.appendChild(h),c.appendChild(p),c.querySelectorAll(".platform-image").forEach(a=>{a.addEventListener("click",()=>{const u=a.dataset.url;u?window.open(u,"_blank"):console.error("Platform URL not found.")})})}document.addEventListener("DOMContentLoaded",function(){T.addEventListener("click",function(){S()}),x.addEventListener("click",function(e){e.target===x&&S()})});r.addEventListener("click",function(){p.innerText="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",window.innerWidth<=767?c.style.height="806px":c.style.height="501px",r.removeEventListener("click",this)});h.addEventListener("click",function(){p.innerText="",window.innerWidth<=767?c.style.height="762px":c.style.height="465px",h.removeEventListener("click",this)});function q(e){e.key==="Escape"&&(S(),document.removeEventListener("keydown",q))}function S(){c.classList.add("closing"),setTimeout(function(){x.style.display="none",c.classList.remove("closing")},500),r.removeEventListener("click",D),r.removeEventListener("click",v),M.style.overflow="auto",r.style.display="flex",h.style.display="none"}function D(){const e=C(b)||[];e.push({constID:E}),G(b,e),r.style.display="none",h.style.display="flex",r.removeEventListener("click",D),h.addEventListener("click",v)}function v(e){U(e),r.style.display="flex",h.style.display="none",r.removeEventListener("click",v),r.addEventListener("click",D)}const F="category",j=document.querySelector(".loader-selected");async function I(e){const s=document.querySelector(".js-home-pg"),l=document.querySelector(".js-selected-page");s.style.display="none",l.style.display="block",j.style.display="block";const n=document.querySelector(".js-booksgallery");n.innerHTML="";const g=document.querySelector(".selected-title");g.innerHTML="";try{const o=await k(F,e);j.style.display="none",V(o),X(e)}catch(o){console.error("Failed to fetch books:",o)}document.querySelectorAll(".cat-book-image-overlay").forEach(o=>{o.addEventListener("click",a=>{const u=a.target.closest(".booksgallery-item");if(u){const H=u.dataset.id;Q(H)}})})}function V(e){const s=document.querySelector(".booksgallery"),l=e.map(n=>`
      <li class="booksgallery-item cardCategory book-hover" data-id="${n._id}">
	  <div class="wrapper-overlay">
          <img class="gallery-image" src="${n.book_image}" alt="${n.description}">          
			<div class="cat-book-image-overlay">
				<p class="book-image-overlay-text quick-view-trigger">Quick view</p>
			</div>
		</div>
		<h3 class="name-book">${n.title}</h3>
          <p class="author-book">${n.author}</p>
      </li>`).join("");s.insertAdjacentHTML("beforeend",l)}function X(e){const s=document.querySelector(".selected-title"),l=e.split(" "),n=l[l.length-1];l.pop(),s.innerHTML=`${l.join(" ")} <span class="selected-color">${n} </span>`}const A={galleryBooks:document.querySelector(".js-gallery-books"),btnMore:document.querySelector(".btn-more"),listCategoryTitle:document.querySelector(".list-category-title"),allListCategories:document.querySelector(".js-books-categories"),categoryItems:document.querySelectorAll(".category-books-item"),scrollTop:document.getElementById("scrollTop")};document.addEventListener("DOMContentLoaded",()=>{async function e(){const s=await k("category-list");s.sort((o,a)=>o.list_name.localeCompare(a.list_name));let l='<li data-category="top-books" class="category-books-item" tabindex="0">All categories</li>';s.forEach(o=>{l+=`<li class="category-books-item" data-category="${o.list_name}" tabindex="0">${o.list_name}</li>`}),A.allListCategories.insertAdjacentHTML("beforeend",l);const n=document.querySelectorAll(".category-books-item");n.forEach(o=>{o.addEventListener("click",g),o.addEventListener("keypress",y)}),document.querySelector('[data-category="top-books"]').classList.add("selected");function g(o){o.preventDefault();const a=document.querySelector(".js-home-pg"),u=document.querySelector(".js-selected-page"),H=o.target.innerHTML;n.forEach(f=>f.classList.remove("selected")),o.target.classList.add("selected");for(const f of s)f.list_name===H&&I(H);H==="All categories"&&(a.style.display="block",u.style.display="none")}function y(o){o.key==="Enter"&&g(o)}}e()});function L(e){Y.error({title:"Error",message:e})}const W=document.querySelector(".loader");document.addEventListener("DOMContentLoaded",async()=>{let e=window.innerWidth;W.style.display="none";const s=await k("top-books");window.addEventListener("resize",l);async function l(){const t=window.innerWidth;if(e>768||e<768&&t>=768||e>=768&&t<=1440&&(e<=768||t>=1439))try{n(s)}catch(i){L(`Failed to render books:${i}`)}e=t}async function n(t){try{A.galleryBooks.innerHTML="";for(const i of t)y(i),i.books.length>=1?u(i):L("Sorry, there are no items in this category");g()}catch(i){L(`Failed to render books:${i}`)}}function g(){document.querySelectorAll(".book-image-overlay").forEach(i=>{i.addEventListener("click",m=>{const d=m.target.closest(".card");if(d){const w=d.dataset.id;Q(w)}})}),document.addEventListener("keydown",function(i){if(i.code=="Enter"){const m=i.target.closest(".card");if(m){const d=m.dataset.id;Q(d)}}})}function y(t){const i=`<li id="${t.list_name}" class="list-category-books" >
    <h2 class="list-category-title">${t.list_name}</h2>
    <ul class="list-book">
     </ul>
    <button type="button" class="btn-more" data-id="${t.list_name}">See more</button>`;A.galleryBooks.insertAdjacentHTML("beforeend",i)}function o(t){const{book_image:i,author:m,title:d,_id:w,contributor:R,list_name:O}=t;if(O)return`
    <li class="card book-item book-hover" data-id="${w}" tabindex="0">
       <div class="wrapper-overlay">
        <img class="book-img-home" src="${i}" alt="${R} ${d}">
        <div class="book-image-overlay" aria-label="${d}">
            <p class="book-image-overlay-text quick-view-trigger">Quick view</p>
        </div>
       </div>
    <h3 class="title-book">${d}</h3>
    <p class="author">${m}</p>
    </li>
    `}function a(t){return t.map(o).join("")}function u(t){const i=H(t),m=t.list_name;document.getElementById(m).querySelector(".list-book").insertAdjacentHTML("afterbegin",i)}function H(t){let i;return window.innerWidth>=768&&window.innerWidth<=1439?i=a(t.books.slice(0,3)):window.innerWidth>=1440?i=a(t.books):i=a(t.books.slice(0,1)),i}n(s),document.querySelectorAll(".btn-more").forEach(t=>{t.addEventListener("click",B)});function B(t){const i=document.querySelector(".js-home-pg"),m=document.querySelector(".js-selected-page"),d=t.srcElement.dataset.id;i.style.display="none",m.style.display="block",console.log(2),I(d)}});window.onscroll=()=>{window.scrollY>400?A.scrollTop.classList.remove("isShowScroll_hide"):window.scrollY<400&&A.scrollTop.classList.add("isShowScroll_hide")};A.scrollTop.addEventListener("click",()=>window.scrollTo(0,0));document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".js-hhome"),s=document.querySelector(".js-hshopping");window.location.pathname==="/index.html"||window.location.pathname==="/"?(e.classList.add("active"),s.classList.remove("active")):(s.classList.add("active"),e.classList.remove("active"))});
//# sourceMappingURL=commonHelpers.js.map
