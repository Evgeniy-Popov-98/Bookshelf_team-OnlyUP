import{a as g,i as y}from"./assets/vendor-8cce9181.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();async function f(e,t){const s="https://books-backend.p.goit.global/books/",i=`${e}`;let o;t&&(o={category:`${t}`});const r=`${s}${i}`,n=await g.get(r,{params:o});if(n.data.length===0)throw new Error("Error");return n.data}const u=document.querySelector(".switch-box"),c=document.querySelector(".switch-button");c.addEventListener("click",e=>{c.dataset.switch==="true"?(c.classList.remove("new-position"),u.classList.remove("new-background"),c.dataset.switch="false"):(c.classList.add("new-position"),u.classList.add("new-background"),c.dataset.switch="true")});const m={galleryBooks:document.querySelector(".js-gallery-books"),btnMore:document.querySelector(".btn-more"),listCategoryTitle:document.querySelector(".list-category-title")};function l(e){y.error({title:"Error",message:e})}let a=window.innerWidth;window.addEventListener("resize",async()=>{const e=window.innerWidth;if(a>768||a<768&&e>=768||a>=768&&e<=1440&&(a<=768||e>=1439))try{const t=await f("top-books");m.galleryBooks.innerHTML="";for(const s of t)b(s),s.books.length>=1?h(s):l("Sorry, there are no items in this category")}catch(t){l(`Failed to render books:${t}`)}a=e});async function p(){try{const e=await f("top-books");for(const t of e)b(t),t.books.length>=1?h(t):l("Sorry, there are no items in this category")}catch(e){l(`Failed to render books:${e}`)}}function b(e){const t=`<li id="${e.list_name}" class="list-category-books">
    <h2 class="list-category-title">${e.list_name}</h2>
    <ul class="list-book">
     </ul>    
    </li>
    <button type="button" class="btn-more">See more</button>`;m.galleryBooks.insertAdjacentHTML("beforeend",t)}function k(e){const{book_image:t,author:s,title:i,_id:o,contributor:r,list_name:n}=e;if(n)return`
    <li class="card book-item" data-id="${o}">
    <img class="book-img" src="${t}" alt="${r} ${i}">
    <h3 class="title-book">${i}</h3>
    <p class="author">${s}</p>
    </li>
   `}function d(e){return e.map(k).join("")}function h(e){const t=w(e),s=e.list_name;document.getElementById(s).querySelector(".list-book").insertAdjacentHTML("afterbegin",t)}function w(e){let t;return window.innerWidth>=768&&window.innerWidth<=1439?t=d(e.books.slice(0,3)):window.innerWidth>=1440?t=d(e.books):t=d(e.books.slice(0,1)),t}p();
//# sourceMappingURL=commonHelpers.js.map
