{"version":3,"file":"commonHelpers.js","sources":["../src/js/API/api-books.js","../src/js/switch-button.js","../src/js/API/refs.js","../src/js/API/messageError.js","../src/js/API/home.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getBooks(endpoints, category) {\n  const BASE_URL = 'https://books-backend.p.goit.global/books/';\n  const END_POINT = `${endpoints}`;\n  let params;\n\n  if (category) params = { category: `${category}` };\n\n  const url = `${BASE_URL}${END_POINT}`;\n\n  const res = await axios.get(url, { params });\n  if (res.data.length === 0) {\n    throw new Error('Error');\n  } else {\n    return res.data;\n  }\n}\n","const switchBox = document.querySelector('.switch-box');\nconst switchButton = document.querySelector('.switch-button');\n\nswitchButton.addEventListener('click', newPosition => {\n  if (switchButton.dataset.switch === 'true') {\n    switchButton.classList.remove('new-position');\n    switchBox.classList.remove('new-background');\n    switchButton.dataset.switch = 'false';\n  } else {\n    switchButton.classList.add('new-position');\n    switchBox.classList.add('new-background');\n    switchButton.dataset.switch = 'true';\n  }\n});\n","export default\n\n{\n    galleryBooks:document.querySelector('.js-gallery-books'),\n    btnMore:document.querySelector('.btn-more'),\n        listCategoryTitle:document.querySelector('.list-category-title')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nexport function errorMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        });\n    \n}","\nimport {getBooks} from './api-books';\nimport refs from './refs';\nimport {errorMessage} from './messageError';\n\nexport async function render(){\n    try {\n        const data = await getBooks('top-books');\n                for (const el of data) {\n            categoriesTemplate(el);  \n            if(el.books.length>=1) {\n                renderBooks(el);\n            }else{\n                errorMessage('Sorry, there are no items in this category');\n            }        \n                \n        }\n    } catch (error) {\n        errorMessage(`Failed to render books:${error}`);\n    }\n}\n\n\nfunction categoriesTemplate(categories){\n    const markup = `<li id=\"${categories.list_name}\" class=\"list-category-books\">\n    <h2 class=\"list-category-title\">${categories.list_name}</h2>\n    <ul class=\"list-book\">\n     </ul>    \n    </li>\n    <button type=\"button\" class=\"btn-more\">See more</button>`\n    refs.galleryBooks.insertAdjacentHTML('beforeend', markup);\n}\n\n\nfunction bookTemplate(book) {\n    const {book_image, author, title, _id, contributor, list_name} = book;\n    if(list_name)\n    return `\n    <li class=\"card book-item\" data-id=\"${_id}\">\n    <img class=\"book-img\" src=\"${book_image}\" alt=\"${contributor} ${title}\">\n    <h3 class=\"title-book\">${title}</h3>\n    <p class=\"author\">${author}</p>\n    </li>\n   `;\n}\nfunction booksTemplate(books) {\n    return  books.map(bookTemplate).join('');\n}\n\nexport function renderBooks(el) {\n    const categoriesID = el.list_name;\n    const listBook = document.getElementById(categoriesID).querySelector('.list-book');\n    const markup = booksTemplate(el.books);\n    listBook.insertAdjacentHTML('afterbegin', markup);\n}\n","\nimport { getBooks } from './js/API/api-books';\nimport './js/switch-button';\nimport {render} from './js/API/home'\n\nrender()\n"],"names":["getBooks","endpoints","category","BASE_URL","END_POINT","params","url","res","axios","switchBox","switchButton","newPosition","refs","errorMessage","message","iziToast","render","data","el","categoriesTemplate","renderBooks","error","categories","markup","bookTemplate","book","book_image","author","title","_id","contributor","list_name","booksTemplate","books","categoriesID","listBook"],"mappings":"6vBAEO,eAAeA,EAASC,EAAWC,EAAU,CAClD,MAAMC,EAAW,6CACXC,EAAY,GAAGH,CAAS,GAC9B,IAAII,EAEAH,IAAUG,EAAS,CAAE,SAAU,GAAGH,CAAQ,KAE9C,MAAMI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,GAE7BG,EAAM,MAAMC,EAAM,IAAIF,EAAK,CAAE,OAAAD,CAAM,CAAE,EAC3C,GAAIE,EAAI,KAAK,SAAW,EACtB,MAAM,IAAI,MAAM,OAAO,EAEvB,OAAOA,EAAI,IAEf,CCjBA,MAAME,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,gBAAgB,EAE5DA,EAAa,iBAAiB,QAASC,GAAe,CAChDD,EAAa,QAAQ,SAAW,QAClCA,EAAa,UAAU,OAAO,cAAc,EAC5CD,EAAU,UAAU,OAAO,gBAAgB,EAC3CC,EAAa,QAAQ,OAAS,UAE9BA,EAAa,UAAU,IAAI,cAAc,EACzCD,EAAU,UAAU,IAAI,gBAAgB,EACxCC,EAAa,QAAQ,OAAS,OAElC,CAAC,ECbD,MAEAE,EAAA,CACI,aAAa,SAAS,cAAc,mBAAmB,EACvD,QAAQ,SAAS,cAAc,WAAW,EACtC,kBAAkB,SAAS,cAAc,sBAAsB,CACvE,ECFO,SAASC,EAAaC,EAAS,CAClCC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAS,CAET,CCLO,eAAeE,GAAQ,CAC1B,GAAI,CACA,MAAMC,EAAO,MAAMjB,EAAS,WAAW,EAC/B,UAAWkB,KAAMD,EACrBE,EAAmBD,CAAE,EAClBA,EAAG,MAAM,QAAQ,EAChBE,EAAYF,CAAE,EAEdL,EAAa,4CAA4C,CAIpE,OAAQQ,EAAO,CACZR,EAAa,0BAA0BQ,CAAK,EAAE,CACjD,CACL,CAGA,SAASF,EAAmBG,EAAW,CACnC,MAAMC,EAAS,WAAWD,EAAW,SAAS;AAAA,sCACZA,EAAW,SAAS;AAAA;AAAA;AAAA;AAAA,8DAKtDV,EAAK,aAAa,mBAAmB,YAAaW,CAAM,CAC5D,CAGA,SAASC,EAAaC,EAAM,CACxB,KAAM,CAAC,WAAAC,EAAY,OAAAC,EAAQ,MAAAC,EAAO,IAAAC,EAAK,YAAAC,EAAa,UAAAC,CAAS,EAAIN,EACjE,GAAGM,EACH,MAAO;AAAA,0CAC+BF,CAAG;AAAA,iCACZH,CAAU,UAAUI,CAAW,IAAIF,CAAK;AAAA,6BAC5CA,CAAK;AAAA,wBACVD,CAAM;AAAA;AAAA,IAG9B,CACA,SAASK,EAAcC,EAAO,CAC1B,OAAQA,EAAM,IAAIT,CAAY,EAAE,KAAK,EAAE,CAC3C,CAEO,SAASJ,EAAYF,EAAI,CAC5B,MAAMgB,EAAehB,EAAG,UAClBiB,EAAW,SAAS,eAAeD,CAAY,EAAE,cAAc,YAAY,EAC3EX,EAASS,EAAcd,EAAG,KAAK,EACrCiB,EAAS,mBAAmB,aAAcZ,CAAM,CACpD,CCjDAP,EAAM"}